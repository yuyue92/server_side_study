<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Go Blog System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav>
        <div class="logo">GoBlog</div>
        <div class="nav-links">
            <a href="#" onclick="showHome()">首页</a>
            <span id="guest-nav">
                <a href="#" onclick="showLogin()">登录</a>
                <a href="#" onclick="showRegister()">注册</a>
            </span>
            <span id="user-nav" style="display: none;">
                <span id="username-display"></span>
                <a href="#" onclick="showCreatePost()">写文章</a>
                <a href="#" onclick="logout()">退出</a>
            </span>
        </div>
    </nav>

    <div class="container">
        <div id="message-box" class="message-box"></div>

        <section id="login-view" class="view" style="display: none;">
            <h2>用户登录</h2>
            <form onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label>邮箱:</label>
                    <input type="email" id="login-email" required value="test@example.com">
                </div>
                <div class="form-group">
                    <label>密码:</label>
                    <input type="password" id="login-password" required value="123456">
                </div>
                <button type="submit">登录</button>
            </form>
        </section>

        <section id="register-view" class="view" style="display: none;">
            <h2>注册新用户</h2>
            <form onsubmit="handleRegister(event)">
                <div class="form-group">
                    <label>用户名:</label>
                    <input type="text" id="reg-username" required>
                </div>
                <div class="form-group">
                    <label>邮箱:</label>
                    <input type="email" id="reg-email" required>
                </div>
                <div class="form-group">
                    <label>密码:</label>
                    <input type="password" id="reg-password" required minlength="6">
                </div>
                <button type="submit">注册</button>
            </form>
        </section>

        <section id="posts-view" class="view">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2 class="h3">文章管理</h2>
                <div class="search-bar">
                    <input type="text" id="search-input" placeholder="搜索标题或内容...">
                    <button onclick="handleSearch()" class="btn btn-primary">搜索</button>
                </div>
            </div>
        
            <div class="filter-bar mb-3">
                <button class="cat-btn active" onclick="filterCategory('全部')">全部</button>
                <button class="cat-btn" onclick="filterCategory('技术')">技术</button>
                <button class="cat-btn" onclick="filterCategory('生活')">生活</button>
                <button class="cat-btn" onclick="filterCategory('其他')">其他</button>
            </div>
        
            <div class="table-responsive shadow-sm">
                <table class="table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>标题</th>
                            <th>分类</th>
                            <th>作者</th>
                            <th>发布时间</th>
                            <th style="width: 150px;">操作</th>
                        </tr>
                    </thead>
                    <tbody id="posts-list">
                        </tbody>
                </table>
            </div>
        
            <div class="pagination-container">
                <div class="pagination">
                    <button id="prev-btn" onclick="changePage(-1)" class="btn-outline">上一页</button>
                    <span id="page-info">第 1 / 1 页</span>
                    <button id="next-btn" onclick="changePage(1)" class="btn-outline">下一页</button>
                </div>
            </div>
        </section>

        <section id="detail-view" class="view" style="display: none;">
            <button onclick="showHome()" class="back-btn">← 返回列表</button>
            <div id="post-detail-content"></div>
            
            <div class="comments-section">
                <h3>评论</h3>
                <div id="comments-list"></div>
                
                <form id="comment-form" onsubmit="handleComment(event)" style="display: none;">
                    <textarea id="comment-content" placeholder="写下你的评论..." required></textarea>
                    <button type="submit">发表评论</button>
                </form>
                <div id="login-to-comment">
                    <p>请 <a href="#" onclick="showLogin()">登录</a> 后发表评论</p>
                </div>
            </div>
        </section>

        <section id="editor-view" class="view" style="display: none;">
            <h2 id="editor-title">发布文章</h2>
            <form onsubmit="handleSavePost(event)">
                <input type="hidden" id="edit-post-id">
                <div class="form-group">
                    <label>标题:</label>
                    <input type="text" id="post-title" required>
                </div>
                <div class="form-group">
                    <label>内容:</label>
                    <textarea id="post-content" rows="10" required></textarea>
                </div>
                <button type="submit">提交</button>
            </form>
        </section>
    </div>

    <script src="app.js"></script>
</body>
</html>