## GoShop 管理界面（admin.html）新手使用指南

这份指南带你从零到会用，完成：查看仪表盘、管理客户/产品、创建订单、查看与新增付款、分页/排序/筛选等日常操作。界面是纯 HTML + CSS + JS，直接连你本地的 Go + SQLite API。

1. 准备工作

启动后端服务
在你的项目根目录运行：`go run .`， 启动服务后会自动打开admin.html前端页面；

**2. 页面结构与通用操作**
- 左侧是导航：仪表盘 / 客户 / 产品 / 订单 / 新建订单 / 付款单。
- 右侧是当前页面内容。所有列表都支持分页(page/size)、排序(sort)、筛选(各自常用字段)。
- 列表操作列里有编辑、删除、明细、改状态等按钮。
- 页面右下角会出现黑色 Toast 提示（成功/错误）。
- 小技巧
  - 翻页：改“页码”数字或点“上一页 / 下一页”。
  - 排序：下拉里选 id:desc / name:asc / ...。
  - 筛选：输入后一般会自动生效；若未刷新，按 Enter 或切换分页触发加载。

**3. 仪表盘（Dashboard）**

路径：左侧“仪表盘”
- 设定开始日期 / 结束日期，界面自动调用 /stats/daily-sales?from=YYYY-MM-DD&to=YYYY-MM-DD，展示每日销售额表与总销售额。
- 如果刚装系统没有数据：先去“新建订单”创建订单（可勾选“立即付款”），回来就能看到销售曲线。

**4. 客户管理（Customers）**

路径：左侧“客户”
- 筛选：按“城市”过滤；可选择排序与分页。
- 新建：点“新建客户”→ 在弹框里填“姓名/城市”→“保存”。
- 编辑：行内“编辑”→ 修改后保存。
- 删除：行内“删除”。
- 注意：客户数据被订单引用时不能删除（外键限制）；删除报错请先确认没有关联订单。

**5. 产品管理（Products）**

路径：左侧“产品”
- 筛选：按“品类”过滤；排序/分页同上。
- 新建/编辑/删除：操作与“客户”一致。

**6. 订单列表（Orders）**

路径：左侧“订单”
- 筛选：按“状态（NEW/PAID/CANCEL）”“客户ID”过滤；可选“下单时间/ID”排序。
- 查看明细：点“明细”，弹框展示行项目（商品/数量/单价/小计），顶部统计订单金额、状态、客户ID、下单时间。
- 修改状态：点“改状态”，从 NEW/PAID/CANCEL 三种里选。
- 删除订单：支持，且会级联删除该订单的明细与付款记录（谨慎操作）。

**7. 新建订单（Create Order）**

路径：左侧“新建订单”
- 选择客户；选择状态（默认 PAID）。
- 在“订单明细”里点“添加一行”，每行选择商品、填写数量、单价。
  - 可添加多行，右侧可“删除”本行。
  - 合计会自动计算到右下角“合计：￥…”。
- 若勾选“立即付款”，会显示“付款信息”卡片：选择支付方式（CARD/CASH/TRANSFER），金额默认同步合计。
- 点击“提交订单”。成功会提示订单 ID 与金额，并可跳转到“订单列表”。
- 常见提示
  - 至少添加一条有效明细（有商品ID且数量>0）。
  - 客户必选。
  - 金额为数量×单价之和；“立即付款”会自动创建一条付款记录。

**8. 付款单（Payments）**

路径：左侧“付款单”
- 筛选：可按“订单ID”过滤，支持按 id/paid_at/amount 排序与分页。
- 新增：点“新增付款”，在弹框里填订单ID、金额（必填），方式（可选）→ 保存。
- 删除：行内“删除”。
- 小贴士
  - 若订单创建时已勾选“立即付款”，这里会看到对应的付款记录。
  - 可用于补录历史付款或多次分期付款的场景。

